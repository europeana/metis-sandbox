drop table if exists dataset;
drop table if exists record;
drop table if exists record_error;

create table if not exists dataset (
   dataset_id varchar(255) generated by default as identity,
   dataset_name varchar(255) not null,
   records_quantity integer not null,
   created_date timestamp with time zone default now(),
   Primary Key (dataset_id)
);

create table  if not exists record (
   id int generated by default as identity,
   record_id varchar(100),
   dataset_id varchar(100),
   step varchar(30),
   status varchar(30) not null,
   content text not null,
   created_date timestamp with time zone default now(),
   Primary Key(id)
);

create table if not exists record_error (
    id int generated by default as identity,
    record_id varchar(100),
    message text,
    stack_trace text,
    created_date timestamp with time zone default now(),
    Primary Key (id)
)
